<html><head>
<title>JavaScript Performans Analizi</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f4f4f4;
    }
    h1 {
        color: #333;
        text-align: center;
    }
    .container {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        margin-bottom: 20px;
    }
    label {
        display: block;
        margin-bottom: 5px;
        color: #555;
    }
    textarea {
        width: 100%;
        height: 150px;
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ddd;
        border-radius: 4px;
        resize: vertical;
    }
    .size-inputs {
        display: flex;
        justify-content: space-between;
        margin-bottom: 15px;
    }
    .size-inputs input {
        width: 30%;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        width: 100%;
    }
    button:hover {
        background-color: #45a049;
    }
    #result {
        margin-top: 20px;
    }
    canvas {
        max-width: 100%;
        height: auto;
    }
</style>
</head><body>
<h1>JavaScript Performans Analizi</h1>

<div class="container">
    <label for="jsFunction">JavaScript Fonksiyonu:</label>
    <textarea id="jsFunction">function myFunction(size) {
    let result = 0;
    for (let i = 0; i < size; i++) {
        for (let j = 0; j < size; j++) {
            result += i * j;
        }
    }
    return result;
}</textarea>

    <div class="size-inputs">
        <input type="number" id="size1" placeholder="Boyut 1" value="10000">
        <input type="number" id="size2" placeholder="Boyut 2" value="20000">
        <input type="number" id="size3" placeholder="Boyut 3" value="40000">
    </div>

    <button onclick="runAnalysis()">Analizi Başlat</button>
</div>

<div id="result" class="container">
    <canvas id="performanceChart"></canvas>
</div>

<script>
let chart;

function runAnalysis() {
    const jsFunction = document.getElementById('jsFunction').value;
    const size1 = parseInt(document.getElementById('size1').value) || 10000;
    const size2 = parseInt(document.getElementById('size2').value) || 20000;
    const size3 = parseInt(document.getElementById('size3').value) || 40000;

    const sizes = [size1, size2, size3];
    const times = [];

    for (let size of sizes) {
        const testFunction = new Function('size', jsFunction + '\nreturn myFunction(size);');
        
        const start = performance.now();
        testFunction(size);
        const end = performance.now();

        times.push(end - start);
    }

    updateChart(sizes, times);
}

function updateChart(sizes, times) {
    const ctx = document.getElementById('performanceChart').getContext('2d');

    if (chart) {
        chart.destroy();
    }

    chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: sizes,
            datasets: [{
                label: 'Çalışma Süresi (ms)',
                data: times,
                borderColor: 'rgb(75, 192, 192)',
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderWidth: 2,
                pointRadius: 5,
                pointHoverRadius: 7
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    title: {
                        display: true,
                        text: 'Girdi Boyutu'
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'Süre (ms)'
                    },
                    beginAtZero: true
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'JavaScript Fonksiyonu Performans Grafiği',
                    font: {
                        size: 18
                    }
                },
                legend: {
                    display: true,
                    position: 'bottom'
                }
            }
        }
    });
}

// Sayfa yüklendiğinde ilk analizi çalıştır
window.onload = runAnalysis;
</script>
</body></html>